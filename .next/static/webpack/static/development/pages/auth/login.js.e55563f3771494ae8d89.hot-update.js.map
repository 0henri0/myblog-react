{"version":3,"file":"static/webpack/static/development/pages/auth/login.js.e55563f3771494ae8d89.hot-update.js","sources":["webpack:///./utils/Http.js"],"sourcesContent":["import axios from 'axios';\n\nconst DEFAULT_CONFIG = {\n  baseURL: process.env.REACT_APP_URL_API,\n  headers: {\n    'Content-Type': 'application/json',\n    'X-Requested-With': 'XMLHttpRequest',\n  },\n};\n\nexport const statusCode = {\n  OK: 200,\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  INTERNAL_SERVER_ERROR: 500,\n};\n\nexport default class Http {\n  constructor(config = {}) {\n    this.config = Object.assign({}, DEFAULT_CONFIG, config);\n  }\n\n  authenticated() {\n    const storedData = localStorage.getItem('access_token'); // get token from localstorage\n    if (storedData) {\n      this.config.headers['Authorization'] = 'Bearer ' + storedData;\n    }\n\n    return this;\n  }\n\n  get(url, params, config = {}) {\n    return this.executeRequest(url, { ...config, params });\n  }\n\n  post(url, data, config = {}) {\n    return this.executeRequest(url, { method: 'post', ...config, data });\n  }\n\n  patch(url, data, config = {}) {\n    return this.executeRequest(url, { method: 'patch', ...config, data });\n  }\n\n  put(url, data, config = {}) {\n    return this.executeRequest(url, { method: 'put', ...config, data });\n  }\n\n  delete(url, data, config = {}) {\n    return this.executeRequest(url, { method: 'delete', ...config, data });\n  }\n\n  executeRequest(url, config) {\n    const finalHeaderConfig = { ...this.config.headers, ...config.headers };\n    const finalConfig = { ...this.config, url, ...config, headers: { ...finalHeaderConfig } };\n    console.log(finalConfig);\n    return axios\n      .request(finalConfig)\n      .then(response => {\n        return Promise.resolve(response);\n      })\n      .catch(error => {\n        if (error.response && error.response.status === statusCode.UNAUTHORIZED) {\n          if (url != 'login') {\n            window.location.href = '/login';\n          }\n        }\n        return Promise.reject(error);\n      });\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;A","sourceRoot":""}